from gradio_client import Client, handle_file
import requests

# Initialize the client with the Hugging Face Space URL or ID
client = Client("Sakibrumu/Food_Image_Classification")

# URL of the image to be used for prediction
url = 'https://raw.githubusercontent.com/gradio-app/gradio/main/test/test_files/bus.png'

# Download the image from the URL and save it locally
response = requests.get(url)
with open("image.png", "wb") as f:
    f.write(response.content)

# Handle the downloaded file for prediction
result = client.predict(
    img=handle_file("image.png"),  # Use the local file path for prediction
    api_name="/predict_image"  # Ensure this matches the API name defined in your Gradio app
)

# Print the result from the prediction
print(result)
